---
title: Integrar dados da web de insights de participação com insights de público-alvo
description: Use informações da web sobre clientes, desde de insights de participação até insights de público-alvo.
ms.date: 06/24/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: mukeshpo
ms.author: mukeshpo
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 76a53a897e90152707a7c1255ed5ed93a5f3b5a0
ms.sourcegitcommit: d84d664e67f263bfeb741154d309088c5101b9c3
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/24/2021
ms.locfileid: "6305004"
---
# <a name="integrate-web-data-from-engagement-insights-with-audience-insights"></a><span data-ttu-id="2e9b0-103">Integrar dados da web de insights de participação com insights de público-alvo</span><span class="sxs-lookup"><span data-stu-id="2e9b0-103">Integrate web data from engagement insights with audience insights</span></span>

<span data-ttu-id="2e9b0-104">Os clientes costumam fazer suas transações diárias online usando sites.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-104">Customers often do their day-to-day transactions online using web sites.</span></span> <span data-ttu-id="2e9b0-105">O recurso de insights de engajamento (versão preliminar) no Dynamics 365 Customer Insights é uma solução prática para integrar dados da Web como uma fonte.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-105">The engagement insights (preview) capability in Dynamics 365 Customer Insights is a handy solution to integrate web data as a source.</span></span> <span data-ttu-id="2e9b0-106">Além de dados transacionais, demográficos ou comportamentais, é possível ver atividades na web em perfis de clientes unificados.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-106">In addition to transactional, demographic, or behavioral data we can see activities on the web in unified customer profiles.</span></span> <span data-ttu-id="2e9b0-107">Podemos usar esses perfis para obter mais insights, como segmentos, medidas ou previsões para ativação de público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-107">We can use these profiles to gain additional insights like segments, measures, or predictions for audience activation.</span></span>

<span data-ttu-id="2e9b0-108">Este artigo descreve as etapas para trazer os dados de atividade da web de seus clientes de insights de participação para o ambiente de insights de público-alvo existente.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-108">This article describes the steps to bring your customers’ web activity data from engagement insights into your existing audience insights environment.</span></span>

<span data-ttu-id="2e9b0-109">Neste exemplo, usamos um ambiente que contém perfis de clientes unificados.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-109">In this example, we assume an environment that contains unified customer profiles.</span></span> <span data-ttu-id="2e9b0-110">Os perfis foram unificados com fontes de pesquisas, vendas de varejo e um sistema de tíquetes.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-110">The profiles were unified with sources from surveys, retail sales, and a ticketing system.</span></span> <span data-ttu-id="2e9b0-111">As atividades relacionadas dos clientes também são mostradas.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-111">It also shows the related activities of the customers.</span></span> 

<span data-ttu-id="2e9b0-112">Agora queremos saber se um cliente acessa nossas propriedades da web e entende suas atividades.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-112">We now want to know if a customer visits our web properties and understand their activities.</span></span> <span data-ttu-id="2e9b0-113">As atividades incluem, por exemplo, sites acessados ou páginas de produto exibidas por meio de um link recebido por email.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-113">Activities include, for example, visited websites or viewed product pages from a link received in an email.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="2e9b0-114">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="2e9b0-114">Prerequisites</span></span>

<span data-ttu-id="2e9b0-115">Para integrar dados de insights de participação, alguns pré-requisitos precisam ser atendidos:</span><span class="sxs-lookup"><span data-stu-id="2e9b0-115">To integrate data from engagement insights, a few prerequisites need to be met:</span></span> 

- <span data-ttu-id="2e9b0-116">Integre o SDK de insights de participação ao site.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-116">Integrate the engagement insights SDK with your website.</span></span> <span data-ttu-id="2e9b0-117">Para obter mais informações, consulte [Visão geral dos recursos de desenvolvedor](../engagement-insights/developer-resources.md).</span><span class="sxs-lookup"><span data-stu-id="2e9b0-117">For more information, see [Developer resources overview](../engagement-insights/developer-resources.md).</span></span>
- <span data-ttu-id="2e9b0-118">Para exportar eventos Web dos insights de engajamento, é necessário ter acesso a uma conta do Azure Data Lake Storage que será usada para ingerir os dados dos eventos Web nos insights sobre público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-118">Exporting web events from engagement insights requires access to an Azure Data Lake Storage account that will be used to ingest the web events data to audience insights.</span></span> <span data-ttu-id="2e9b0-119">Para obter mais informações, consulte [Exportar eventos](../engagement-insights/export-events.md).</span><span class="sxs-lookup"><span data-stu-id="2e9b0-119">For more information, see [Export events](../engagement-insights/export-events.md).</span></span>

## <a name="configure-refined-events-in-engagement-insights"></a><span data-ttu-id="2e9b0-120">Configurar eventos refinados em insights de participação</span><span class="sxs-lookup"><span data-stu-id="2e9b0-120">Configure refined events in engagement insights</span></span>

<span data-ttu-id="2e9b0-121">Após um administrador instrumentar um site com o SDK de insights sobre engajamento, os *eventos base* são coletados quando um usuário visualiza um site ou clica em algum lugar.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-121">After an administrator instruments a website with the engagement insights SDK, *base events* are gathered when a user views a webpage or clicks somewhere.</span></span> <span data-ttu-id="2e9b0-122">Os eventos base tendem a conter vários detalhes.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-122">Base events tend to contain numerous details.</span></span> <span data-ttu-id="2e9b0-123">Dependendo do caso de uso, você precisa somente de um subconjunto dos dados em um evento de base.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-123">Depending on your use case, you only need a subset of the data in a base event.</span></span> <span data-ttu-id="2e9b0-124">Os insights de participação permitem criar *Eventos refinados* que contêm somente as propriedades de um evento base selecionado.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-124">Engagement insights let you create *refined events* that contain only the properties of a base event that you select.</span></span>     

<span data-ttu-id="2e9b0-125">Para obter mais informações, consulte [Criar e modificar eventos refinados](../engagement-insights/refined-events.md).</span><span class="sxs-lookup"><span data-stu-id="2e9b0-125">For more information, see [Create and modify refined events](../engagement-insights/refined-events.md).</span></span>

<span data-ttu-id="2e9b0-126">Considerações ao criar eventos refinados:</span><span class="sxs-lookup"><span data-stu-id="2e9b0-126">Considerations when creating refined events:</span></span> 

- <span data-ttu-id="2e9b0-127">Forneça um nome significativo para o evento refinado.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-127">Provide a meaningful name for the refined event.</span></span> <span data-ttu-id="2e9b0-128">Ele será usado como o nome de uma atividade nos insights sobre público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-128">It will be used as an activity name in audience insights.</span></span>
- <span data-ttu-id="2e9b0-129">Selecione pelo menos as seguintes propriedades para criar uma atividade em insights de público-alvo:</span><span class="sxs-lookup"><span data-stu-id="2e9b0-129">Select at least the following properties to create an activity in audience insights:</span></span> 
    - <span data-ttu-id="2e9b0-130">Signal.Action.Name – Indica os detalhes da atividade.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-130">Signal.Action.Name – indicates the activity details.</span></span>
    - <span data-ttu-id="2e9b0-131">Signal.User.Id – Usado para mapear com o ID do cliente.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-131">Signal.User.Id – used to map with the customer ID.</span></span>
    - <span data-ttu-id="2e9b0-132">Signal.View.Uri – Usado como endereço da Web como base para segmentos ou medidas.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-132">Signal.View.Uri – used as a web address as a basis for segments or measures.</span></span>
    - <span data-ttu-id="2e9b0-133">Signal.Export.Id – Usado como chave primária para eventos.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-133">Signal.Export.Id – used as a primary key for events.</span></span>
    - <span data-ttu-id="2e9b0-134">Signal.Timestamp - Determina a data e a hora da atividade.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-134">Signal.Timestamp – determines the date and time for the activity.</span></span>

<span data-ttu-id="2e9b0-135">Selecione os filtros para focar nos eventos e nas páginas importantes para o caso de uso.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-135">Select the filters to focus on the events and pages that matter for your use case.</span></span> <span data-ttu-id="2e9b0-136">Neste exemplo, usaremos o nome da ação "Promoção de email".</span><span class="sxs-lookup"><span data-stu-id="2e9b0-136">In this example, we'll use the "Email promotion" action name.</span></span>

## <a name="export-the-refined-web-events"></a><span data-ttu-id="2e9b0-137">Exportar os eventos da Web refinados</span><span class="sxs-lookup"><span data-stu-id="2e9b0-137">Export the refined web events</span></span> 

<span data-ttu-id="2e9b0-138">Após definir o evento refinado, você precisa configurar a exportação dos dados do evento para o Azure Data Lake Storage, o que pode ser definido como uma fonte de dados para ingestão nos insights sobre público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-138">After defining the refined event, you have to configure the export of the event data to Azure Data Lake Storage, which can be set as a data source for ingestion in audience insights.</span></span> <span data-ttu-id="2e9b0-139">As exportações acontecem constantemente à medida que os eventos fluem da propriedade da web.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-139">Exports happen constantly as the events flow from the web property.</span></span>

<span data-ttu-id="2e9b0-140">Para obter mais informações, consulte [Exportar eventos](../engagement-insights/export-events.md).</span><span class="sxs-lookup"><span data-stu-id="2e9b0-140">For more information, see [Export events](../engagement-insights/export-events.md).</span></span>

## <a name="ingest-event-data-to-audience-insights"></a><span data-ttu-id="2e9b0-141">Ingerir dados de evento para insights de público-alvo</span><span class="sxs-lookup"><span data-stu-id="2e9b0-141">Ingest event data to audience insights</span></span>

<span data-ttu-id="2e9b0-142">Agora que você definiu o evento refinado e configurou a exportação, prosseguiremos para a ingestão de dados para insights de público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-142">Now that you have defined the refined event and configured its export, we move on to ingesting the data to audience insights.</span></span> <span data-ttu-id="2e9b0-143">É necessário criar uma fonte de dados baseada em uma pasta do Common Data Model.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-143">You need to create a new data source based on a Common Data Model folder.</span></span> <span data-ttu-id="2e9b0-144">Insira os detalhes da conta de armazenamento para a qual exporta os eventos.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-144">Enter the details for the storage account you export the events to.</span></span> <span data-ttu-id="2e9b0-145">No arquivo *default.cdm.json*, selecione o evento refinado a ser ingerido e crie a entidade nos insights de público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-145">In the *default.cdm.json* file, select the refined event to ingest and create the entity in audience insights.</span></span>

<span data-ttu-id="2e9b0-146">Para mais informações, [Conectar a uma pasta do Common Data Model usando uma conta do Azure Data Lake](connect-common-data-model.md).</span><span class="sxs-lookup"><span data-stu-id="2e9b0-146">For more information, see [Connect to a Common Data Model folder using an Azure Data Lake account](connect-common-data-model.md).</span></span>


## <a name="relate-refined-event-data-as-an-activity-of-a-customer-profile"></a><span data-ttu-id="2e9b0-147">Relacionar dados de eventos refinados como atividade de um perfil de cliente</span><span class="sxs-lookup"><span data-stu-id="2e9b0-147">Relate refined event data as an activity of a customer profile</span></span>

<span data-ttu-id="2e9b0-148">Depois de concluir a ingestão da entidade, você pode configurar a atividade para o perfil do cliente.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-148">After completing the entity ingestion, you can configure the activity for the customer profile.</span></span>

<span data-ttu-id="2e9b0-149">Para obter mais informações, consulte [Atividades do cliente](activities.md).</span><span class="sxs-lookup"><span data-stu-id="2e9b0-149">For more information, see [Customer activities](activities.md).</span></span>

:::image type="content" source="media/web-event-activity.png" alt-text="Página Atividades com painel Editar atividade e campos preenchidos.":::

<span data-ttu-id="2e9b0-151">Configurar a nova atividade com o seguinte mapeamento:</span><span class="sxs-lookup"><span data-stu-id="2e9b0-151">Configure the new activity with the following mapping:</span></span> 

- <span data-ttu-id="2e9b0-152">**Chave primária**: Signal.Export.Id, um ID exclusivo disponível para cada registro de evento nos insights sobre engajamento.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-152">**Primary Key**: Signal.Export.Id, a unique ID that is available for every event record in engagement insights.</span></span> <span data-ttu-id="2e9b0-153">Esta propriedade é gerada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-153">This property is automatically generated.</span></span>

- <span data-ttu-id="2e9b0-154">**Timestamp**: Signal.Timestamp na propriedade do evento.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-154">**Timestamp**: Signal.Timestamp in the event property.</span></span>

- <span data-ttu-id="2e9b0-155">**Event**: Signal.Name, o nome do evento que você deseja acompanhar.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-155">**Event**: Signal.Name, the event name that you want to track.</span></span>

- <span data-ttu-id="2e9b0-156">**Endereço da Web**: Signal.View.Uri referente ao URI da página que criou o evento.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-156">**Web address**: Signal.View.Uri referring to the URI of the page that created the event.</span></span>

- <span data-ttu-id="2e9b0-157">**Detalhes**: Signal.Action.Name para representar as informações para associar ao evento.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-157">**Details**: Signal.Action.Name to represent the information to associate with the event.</span></span> <span data-ttu-id="2e9b0-158">A propriedade selecionada neste caso indica que o evento é para promoção de email.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-158">The selected property in this case indicates that the event is for email promotion.</span></span>

- <span data-ttu-id="2e9b0-159">**Tipo de atividade**: neste exemplo, escolhemos o tipo de atividade existente WebLog.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-159">**Activity type**: In this example, we choose the existing activity type WebLog.</span></span> <span data-ttu-id="2e9b0-160">Esta seleção é uma opção de filtro útil para executar modelos de previsão ou criar segmentos baseados neste tipo de atividade.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-160">This selection is a useful filter option to run prediction models or create segments based on this activity type.</span></span>

- <span data-ttu-id="2e9b0-161">**Configurar relacionamento**: esta configuração importante vincula a atividade aos perfis de cliente existentes.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-161">**Set up relationship**: This important setting ties the activity to existing customer profiles.</span></span> <span data-ttu-id="2e9b0-162">**Signal.User.Id** é o identificador configurado no SDK a ser coletado e que se relaciona à ID de usuário em outras fontes de dados configuradas nos insights de público-alvo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-162">**Signal.User.Id** is the identifier configured in the SDK to be collected and that relates to the user ID in other data sources that are configured in audience insights.</span></span> <span data-ttu-id="2e9b0-163">Neste exemplo, configuramos o relacionamento entre Signal.User.Id e RetailCustomers:CustomerRetailId, que é a chave primária que foi identificada na etapa de mapeamento do processo de unificação de dados.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-163">In this example, we configure the relationship between Signal.User.Id and RetailCustomers:CustomerRetailId, which is the primary key that was identified in the map step of the data unification process.</span></span>

<span data-ttu-id="2e9b0-164">Depois de processar as atividades, você pode revisar os registros do cliente e abrir um cartão do cliente para ver as atividades de insights de participação na linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-164">After processing the activities, you can review customer records and open a customer card to see activities from engagement insights in the timeline.</span></span> 

> [!TIP]
> <span data-ttu-id="2e9b0-165">Para encontrar um ID de cliente que tem uma atividade de insights sobre engajamento, acesse **Entidades** e visualize os dados da entidade UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-165">To find a customer ID that has an engagement insights activity, go to **Entities** and preview the data for the UnifiedActivity entity.</span></span> <span data-ttu-id="2e9b0-166">ActivityTypeDisplay = WebLog contém a atividade de insights sobre engajamento configurada no exemplo acima.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-166">ActivityTypeDisplay = WebLog contains the engagement insights activity configured in the example above.</span></span> <span data-ttu-id="2e9b0-167">Copie a ID do cliente para um desses registros e para essa ID na página **Clientes**.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-167">Copy the customer ID for one of those records and for that ID on the **Customers** page.</span></span>

## <a name="next-steps"></a><span data-ttu-id="2e9b0-168">Próximas etapas</span><span class="sxs-lookup"><span data-stu-id="2e9b0-168">Next steps</span></span>

<span data-ttu-id="2e9b0-169">Agora é possível criar [segmentos](segments.md), [medidas](measures.md) e [previsões](predictions.md) para criar uma conexão significativa com seus clientes.</span><span class="sxs-lookup"><span data-stu-id="2e9b0-169">You can now create [segments](segments.md), [measures](measures.md), and [predictions](predictions.md) to make a meaningful connection with your customers.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
