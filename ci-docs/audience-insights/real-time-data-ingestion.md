---
title: Ingestão de dados em tempo real e limitações
description: Informações gerais sobre recursos em tempo real em percepções de público.
ms.date: 10/27/2020
ms.reviewer: nikeller
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: b00a72e6a67e33c8e70ccc6139c5e62020f9d3e1
ms.sourcegitcommit: b50c754481d0af6d0cf4b550775d7b31d95846ef
ms.translationtype: HT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/06/2020
ms.locfileid: "4689161"
---
# <a name="real-time-data-ingestion-preview"></a><span data-ttu-id="dfb2d-103">Ingestão de dados em tempo real (versão preliminar)</span><span class="sxs-lookup"><span data-stu-id="dfb2d-103">Real-time data ingestion (preview)</span></span>

<span data-ttu-id="dfb2d-104">A funcionalidade quase em tempo real permite ver, em segundos, as últimas interações que seus clientes tiveram com seus produtos ou serviços.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-104">The near real-time functionality lets you see, within seconds, the latest interactions that your customers have made with your products or services.</span></span>

<span data-ttu-id="dfb2d-105">[Atualizações programadas](system.md#schedule-tab) incluem um grande número de registros e várias operações complexas.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-105">[Scheduled refreshes](system.md#schedule-tab) include large numbers of records and several complex operations.</span></span> <span data-ttu-id="dfb2d-106">Primeiro, os dados são extraídos de fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-106">First, data is pulled from the data source.</span></span> <span data-ttu-id="dfb2d-107">Em seguida, os dados são unificados e depois enriquecidos com informações adicionais.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-107">Next, the data is unified, and then enriched with additional information.</span></span> <span data-ttu-id="dfb2d-108">Cada execução desse processo pode levar de minutos a horas.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-108">Every run of this process can take minutes to hours.</span></span>

<span data-ttu-id="dfb2d-109">A funcionalidade em tempo real fornece dados imediatamente para consumo, até que a atualização programada subsequente extraia esses dados de fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-109">The real-time functionality provides data immediately for consumption, until the subsequent scheduled refresh pulls this data from the data source.</span></span>

<span data-ttu-id="dfb2d-110">As atualizações em tempo real têm um horário de expiração após o qual não substituem mais o valor da fonte de dados:</span><span class="sxs-lookup"><span data-stu-id="dfb2d-110">Real-time updates have an expiration time after which they no longer override the value from the data source:</span></span>

- <span data-ttu-id="dfb2d-111">As atualizações de perfil serão mantidas por 4 horas</span><span class="sxs-lookup"><span data-stu-id="dfb2d-111">Profile updates will be kept for 4 hours</span></span>
- <span data-ttu-id="dfb2d-112">As atividades serão mantidas por 30 dias</span><span class="sxs-lookup"><span data-stu-id="dfb2d-112">Activities will be kept for 30 days</span></span>

<span data-ttu-id="dfb2d-113">Esses valores são parâmetros de chamada à API que você pode alterar.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-113">These values are API call parameters that you can change.</span></span> <span data-ttu-id="dfb2d-114">Eles visam garantir que seus dados de origem continuem sendo sua fonte de referência.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-114">They aim to ensure that your source data remains your source of truth.</span></span> <span data-ttu-id="dfb2d-115">Se você deseja que as atualizações em tempo real sejam incluídas por mais tempo, você precisa adicioná-las a um fonte de dados para que sejam retiradas durante a próxima atualização programada.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-115">If you want real-time updates to be included for longer, you need to add them to a data source so they get pulled during the next scheduled refresh.</span></span>

## <a name="real-time-update-of-the-unified-customer-profile-fields"></a><span data-ttu-id="dfb2d-116">Atualização em tempo real dos campos do perfil de cliente unificado</span><span class="sxs-lookup"><span data-stu-id="dfb2d-116">Real-time update of the unified customer profile fields</span></span>

<span data-ttu-id="dfb2d-117">Os perfis atualizados serão exibidos na visualização do cartão do cliente ou em qualquer outra visualização em alguns segundos.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-117">Updated profiles will show in the customer card view, or any other visualization, within a few seconds.</span></span>

<span data-ttu-id="dfb2d-118">Como as operações em tempo real ocorrem após a unificação de dados, elas se aplicam apenas aos perfis de cliente unificados.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-118">Because real-time operations take place after the data unification has happened, they only apply to the unified customer profiles.</span></span> <span data-ttu-id="dfb2d-119">Consequentemente, as alterações de perfil em tempo real não atualizarão medidas, associação de segmentos ou aprimoramentos.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-119">Consequently, real-time profile changes will not update measures, segment membership, or enrichments.</span></span>

### <a name="limitations"></a><span data-ttu-id="dfb2d-120">Limitações</span><span class="sxs-lookup"><span data-stu-id="dfb2d-120">Limitations</span></span>

- <span data-ttu-id="dfb2d-121">Perfis de clientes podem ser atualizados, mas não criados ou excluídos.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-121">Customer profiles can be updated, but not created or deleted.</span></span>
- <span data-ttu-id="dfb2d-122">Exportar atualizações em tempo real para sistemas externos, como o Power BI, não é possível no momento.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-122">Exporting real-time updates to external systems, like Power BI, is not possible at the moment.</span></span>

## <a name="real-time-creation-of-activities"></a><span data-ttu-id="dfb2d-123">Criação de atividades em tempo real</span><span class="sxs-lookup"><span data-stu-id="dfb2d-123">Real-time creation of activities</span></span>

<span data-ttu-id="dfb2d-124">A API em tempo real permite publicar uma nova atividade de seu sistema de origem (um registro de origem individual) para um perfil de cliente unificado.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-124">The real-time API lets you publish a new activity from your source system (an individual source record) to a unified customer profile.</span></span> <span data-ttu-id="dfb2d-125">A nova atividade estará disponível como uma atividade unificada na linha do tempo desse perfil de cliente unificado em segundos.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-125">The new activity will be available as a unified activity in that unified customer profile's timeline within seconds.</span></span> <span data-ttu-id="dfb2d-126">Você pode ver a linha do tempo na visualização do cartão do cliente ou qualquer outra integração de linha do tempo que você configurou.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-126">You can see the timeline in the customer card view or any other timeline integration you configured.</span></span>

> [!NOTE]
>
> - <span data-ttu-id="dfb2d-127">Atividades são imutáveis.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-127">Activities are immutable.</span></span> <span data-ttu-id="dfb2d-128">Elas não mudam depois de criadas.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-128">They don't change once created.</span></span>
> - <span data-ttu-id="dfb2d-129">Atualmente, segmentos e medidas não são atualizados com base na nova atividade.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-129">Currently, segments and measures won't update based on the new activity.</span></span>
> - <span data-ttu-id="dfb2d-130">As atividades adicionadas apenas por meio da API em tempo real não fazem parte das exportações e não serão exibidas no Power BI.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-130">Activities added only through the real-time API are not part of exports and won't show up in PowerBI.</span></span>

<span data-ttu-id="dfb2d-131">Existem duas maneiras de se conectar à API em tempo real:</span><span class="sxs-lookup"><span data-stu-id="dfb2d-131">There are two ways to connect to the real-time API:</span></span>

- <span data-ttu-id="dfb2d-132">[indiretamente](#connect-via-the-dynamics-365-customer-insights-connector), usando o [conector do Dynamics 365 Customer Insights](https://docs.microsoft.com/connectors/customerinsights/)</span><span class="sxs-lookup"><span data-stu-id="dfb2d-132">[indirectly](#connect-via-the-dynamics-365-customer-insights-connector), using the [Dynamics 365 Customer Insights connector](https://docs.microsoft.com/connectors/customerinsights/)</span></span>
- <span data-ttu-id="dfb2d-133">[diretamente](#connect-directly-to-the-real-time-api), com código</span><span class="sxs-lookup"><span data-stu-id="dfb2d-133">[directly](#connect-directly-to-the-real-time-api), with code</span></span>

<span data-ttu-id="dfb2d-134">As duas maneiras compartilham os seguintes pré-requisitos:</span><span class="sxs-lookup"><span data-stu-id="dfb2d-134">Both ways share the following prerequisites:</span></span>

- <span data-ttu-id="dfb2d-135">Um ambiente do Customer Insights</span><span class="sxs-lookup"><span data-stu-id="dfb2d-135">A Customer Insights environment</span></span>
- <span data-ttu-id="dfb2d-136">Perfis de cliente unificados</span><span class="sxs-lookup"><span data-stu-id="dfb2d-136">Unified customer profiles</span></span>
- <span data-ttu-id="dfb2d-137">Atividades configuradas e executadas</span><span class="sxs-lookup"><span data-stu-id="dfb2d-137">Activities configured and run</span></span>
- <span data-ttu-id="dfb2d-138">Permissões de Colaborador ou Administrador para autenticar sua conta</span><span class="sxs-lookup"><span data-stu-id="dfb2d-138">Contributor or Administrator permissions to authenticate your account</span></span>

## <a name="connect-via-the-dynamics-365-customer-insights-connector"></a><span data-ttu-id="dfb2d-139">Conectar-se por meio do conector do Dynamics 365 Customer Insights</span><span class="sxs-lookup"><span data-stu-id="dfb2d-139">Connect via the Dynamics 365 Customer Insights connector</span></span>

<span data-ttu-id="dfb2d-140">A API em tempo real pode ingerir dados de um conector dedicado do Power Platform, o [conector do Dynamics 365 Customer Insights](https://docs.microsoft.com/connectors/customerinsights/), sem a necessidade de escrever e implantar nenhum código.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-140">The real-time API can ingest data from a dedicated Power Platform connector, the [Dynamics 365 Customer Insights connector](https://docs.microsoft.com/connectors/customerinsights/), without the need to write and deploy any code.</span></span>    
<span data-ttu-id="dfb2d-141">O conector pode executar as mesmas ações em tempo real que a API.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-141">The connector can do the same real-time actions as the API.</span></span> <span data-ttu-id="dfb2d-142">Você precisa de uma licença válida para conectores premium.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-142">You need a valid license for premium connectors.</span></span> <span data-ttu-id="dfb2d-143">Para obter mais informações, consulte [Perguntas frequentes sobre licenciamento do Power Apps e do Power Automate](https://docs.microsoft.com/power-platform/admin/powerapps-flow-licensing-faq).</span><span class="sxs-lookup"><span data-stu-id="dfb2d-143">For more information, see [Power Apps and Power Automate licensing FAQs](https://docs.microsoft.com/power-platform/admin/powerapps-flow-licensing-faq).</span></span>

- <span data-ttu-id="dfb2d-144">Power Platform [Power Apps e/ou Power Automate](https://docs.microsoft.com/connectors/)</span><span class="sxs-lookup"><span data-stu-id="dfb2d-144">Power Platform [Power Apps and/or Power Automate](https://docs.microsoft.com/connectors/)</span></span>
- <span data-ttu-id="dfb2d-145">[Aplicativos Lógicos](https://docs.microsoft.com/azure/connectors/apis-list) do Azure</span><span class="sxs-lookup"><span data-stu-id="dfb2d-145">Azure [Logic Apps](https://docs.microsoft.com/azure/connectors/apis-list)</span></span>

<span data-ttu-id="dfb2d-146">Para obter detalhes sobre a criação de fluxos, consulte a [documentação do Power Automate](https://docs.microsoft.com/power-automate/).</span><span class="sxs-lookup"><span data-stu-id="dfb2d-146">For details about creating flows, see the [Power Automate documentation](https://docs.microsoft.com/power-automate/).</span></span>

## <a name="connect-directly-to-the-real-time-api"></a><span data-ttu-id="dfb2d-147">Conectar-se diretamente à API em tempo real</span><span class="sxs-lookup"><span data-stu-id="dfb2d-147">Connect directly to the real-time API</span></span>

<span data-ttu-id="dfb2d-148">Você pode usar os recursos em tempo real criando seu próprio pipeline e conectando-se diretamente à API em tempo real.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-148">You can use the real-time capabilities by building your own pipeline and connecting directly to the real-time API.</span></span>    
<span data-ttu-id="dfb2d-149">Você pode postar uma atividade no formato do seu sistema de origem ou no formato UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-149">You can post an activity in the format of your source system or in the UnifiedActivity format.</span></span> <span data-ttu-id="dfb2d-150">Obtenha o formato fazendo uma chamada à API para /api/instances/{instanceId}/manage/entities/UnifiedActivity.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-150">Get the format by making an API call to /api/instances/{instanceId}/manage/entities/UnifiedActivity.</span></span>

<span data-ttu-id="dfb2d-151">Os detalhes desta API, incluindo parâmetros e respostas, podem ser encontrados na seção **EntityData** na referência [APIs do Customer Insights](https://developer.ci.ai.dynamics.com/api-details#api=CustomerInsights).</span><span class="sxs-lookup"><span data-stu-id="dfb2d-151">Details of this API, including parameters and responses, can be found in the **EntityData** section on the [Customer Insights APIs reference](https://developer.ci.ai.dynamics.com/api-details#api=CustomerInsights).</span></span> <span data-ttu-id="dfb2d-152">Para obter mais informações, consulte [Trabalhar com APIs do Customer Insights](apis.md).</span><span class="sxs-lookup"><span data-stu-id="dfb2d-152">For more information, see [Work with Customer Insights APIs](apis.md).</span></span>

## <a name="understand-your-real-time-usage-with-telemetry"></a><span data-ttu-id="dfb2d-153">Entenda seu uso em tempo real com telemetria</span><span class="sxs-lookup"><span data-stu-id="dfb2d-153">Understand your real-time usage with telemetry</span></span>

<span data-ttu-id="dfb2d-154">Obtenha uma visão geral do volume de solicitações para a API em tempo real e informações sobre os problemas que o sistema pode encontrar.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-154">Get an overview of the volume of requests to the real-time API and information about issues the system may encounter.</span></span> <span data-ttu-id="dfb2d-155">Você pode [acessar a telemetria em tempo real](system.md#api-usage-tab) indo para **Admin** > **Sistema** > **Uso da API**.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-155">You can [access the real-time telemetry](system.md#api-usage-tab) by going to **Admin** > **System** > **API usage**.</span></span> <span data-ttu-id="dfb2d-156">Na tabela **Operações**, as linhas para operações da API que usam os métodos em tempo real contêm um botão para visualizar o uso da API em tempo real.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-156">In the **Operations** table, rows for API operations which use the real-time methods contain a button to view real-time API usage.</span></span> <span data-ttu-id="dfb2d-157">O botão é visualizado com um símbolo binocular.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-157">The button is visualized with a binocular symbol.</span></span> <span data-ttu-id="dfb2d-158">Selecione o botão para abrir um painel lateral contendo detalhes de uso para o uso da API em tempo real no ambiente atual.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-158">Select the button to open a side pane containing usage details for the real-time API usage in the current environment.</span></span>

<span data-ttu-id="dfb2d-159">Use o seletor **Agrupar por** para escolher a melhor forma de apresentar suas interações em tempo real em uma linha do tempo que varia das últimas 24 horas aos últimos 30 dias.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-159">Use the **Group by** selector to choose how to best present your real-time interactions on a timeline ranging from the last 24 hours to the last 30 days.</span></span> <span data-ttu-id="dfb2d-160">Você pode agrupar os dados pelo método API, nome qualificado da entidade (entidade ingerida), criado por (fonte do evento), resultado (êxito ou falha) ou códigos de erro.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-160">You can group the data by API method, entity qualified name (ingested entity), created by (source of the event), result (success or failure) or error codes.</span></span> <span data-ttu-id="dfb2d-161">Os dados estão disponíveis como um gráfico de histórico e como uma tabela.</span><span class="sxs-lookup"><span data-stu-id="dfb2d-161">The data is available as a history chart and as a table.</span></span>
